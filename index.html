<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø®Ø·Ø· Ø§Ù„Ø²ÙˆØ§Ø¬ - Wedding Planner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
            background: #000000;
            background-image: 
                radial-gradient(at 20% 30%, rgba(139, 92, 246, 0.15) 0px, transparent 50%),
                radial-gradient(at 80% 70%, rgba(167, 139, 250, 0.15) 0px, transparent 50%),
                radial-gradient(at 50% 50%, rgba(124, 58, 237, 0.1) 0px, transparent 50%);
            color: #f1f5f9;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header-section {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .logo-wrapper {
            position: relative;
        }

        .logo-glow {
            position: absolute;
            inset: 0;
            background: rgba(167, 139, 250, 0.4);
            border-radius: 50%;
            filter: blur(30px);
            transform: scale(1.5);
        }

        .logo {
            position: relative;
            z-index: 2;
            width: 56px;
            height: 56px;
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(167, 139, 250, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 200;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, #f1f5f9, #c4b5fd, #e9d5ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 0.02em;
        }

        .subtitle {
            color: #a78bfa;
            font-size: 1.1rem;
            font-weight: 300;
            margin-bottom: 2rem;
        }

        /* Glass Morphism Cards */
        .glass-card {
            background: rgba(139, 92, 246, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(167, 139, 250, 0.2);
            box-shadow: 0 8px 32px 0 rgba(139, 92, 246, 0.1);
        }

        /* Intention Box */
        .intention-box {
            background: rgba(139, 92, 246, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(167, 139, 250, 0.2);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2.5rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 32px 0 rgba(139, 92, 246, 0.15);
        }

        .intention-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #a78bfa, transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .intention-icon {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .intention-text {
            text-align: center;
            font-size: 1.1rem;
            line-height: 1.8;
            color: #e9d5ff;
            font-weight: 300;
            max-width: 800px;
            margin: 0 auto;
        }

        .intention-highlight {
            color: #c4b5fd;
            font-weight: 400;
        }

        /* Stats Section */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2.5rem;
        }

        .stat-card {
            background: rgba(139, 92, 246, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(167, 139, 250, 0.2);
            border-radius: 20px;
            padding: 1.75rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 32px 0 rgba(139, 92, 246, 0.1);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(167, 139, 250, 0.08) 0%, transparent 70%);
        }

        .stat-label {
            position: relative;
            font-size: 0.95rem;
            color: #a78bfa;
            margin-bottom: 0.75rem;
            font-weight: 300;
        }

        .stat-value {
            position: relative;
            font-size: 3rem;
            font-weight: 200;
            background: linear-gradient(to right, #f1f5f9, #c4b5fd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .stat-subtitle {
            position: relative;
            font-size: 0.9rem;
            color: #c4b5fd;
            font-weight: 300;
        }

        .expected-date {
            font-size: 0.85rem;
            color: #94a3b8;
            margin-top: 0.5rem;
        }

        /* Progress Section */
        .progress-section {
            background: rgba(139, 92, 246, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(167, 139, 250, 0.2);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 2.5rem;
            box-shadow: 0 8px 32px 0 rgba(139, 92, 246, 0.1);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.75rem;
            color: #c4b5fd;
            font-weight: 300;
            font-size: 0.95rem;
        }

        .progress-bar-container {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 20px;
            height: 32px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            background: linear-gradient(90deg, #8b5cf6 0%, #a78bfa 100%);
            height: 100%;
            border-radius: 20px;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 300;
            font-size: 0.875rem;
            min-width: 32px;
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
        }

        /* Sections Layout */
        .sections-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .section-card {
            background: rgba(139, 92, 246, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(167, 139, 250, 0.2);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 32px 0 rgba(139, 92, 246, 0.1);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(167, 139, 250, 0.2);
        }

        .section-icon {
            width: 48px;
            height: 48px;
            background: rgba(139, 92, 246, 0.15);
            border: 1px solid rgba(167, 139, 250, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .section-title {
            flex: 1;
        }

        .section-title h2 {
            font-size: 1.5rem;
            font-weight: 300;
            color: #e9d5ff;
            margin-bottom: 0.25rem;
        }

        .section-title p {
            font-size: 0.85rem;
            color: #94a3b8;
            font-weight: 300;
        }

        /* Add Task Section */
        .add-task-section {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .task-input {
            flex: 1;
            padding: 12px 16px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            font-size: 0.95rem;
            color: #f1f5f9;
            transition: all 0.3s;
            font-weight: 300;
            backdrop-filter: blur(10px);
        }

        .task-input::placeholder {
            color: #64748b;
        }

        .task-input:focus {
            outline: none;
            border-color: rgba(167, 139, 250, 0.6);
            background: rgba(0, 0, 0, 0.5);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.2);
        }

        .days-input {
            width: 75px;
            padding: 12px 10px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            font-size: 0.95rem;
            text-align: center;
            color: #f1f5f9;
            transition: all 0.3s;
            font-weight: 300;
            backdrop-filter: blur(10px);
        }

        .days-input::placeholder {
            color: #64748b;
        }

        .days-input:focus {
            outline: none;
            border-color: rgba(167, 139, 250, 0.6);
            background: rgba(0, 0, 0, 0.5);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.2);
        }

        .add-btn {
            padding: 12px 24px;
            background: rgba(139, 92, 246, 0.9);
            color: white;
            border: 1px solid rgba(167, 139, 250, 0.3);
            border-radius: 12px;
            font-size: 0.95rem;
            font-weight: 300;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.4);
            backdrop-filter: blur(10px);
        }

        .add-btn:hover {
            background: rgb(139, 92, 246);
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.6);
        }

        .add-btn:active {
            transform: translateY(0);
        }

        /* Tasks List */
        .tasks-list {
            list-style: none;
            max-height: 500px;
            overflow-y: auto;
            padding-right: 0.5rem;
        }

        .task-item {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            padding: 14px 16px;
            margin-bottom: 0.75rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s;
        }

        .task-item:hover {
            background: rgba(0, 0, 0, 0.5);
            border-color: rgba(167, 139, 250, 0.4);
            box-shadow: 0 4px 16px rgba(139, 92, 246, 0.2);
        }

        .task-item.completed {
            opacity: 0.6;
            background: rgba(34, 197, 94, 0.1);
            border-color: rgba(74, 222, 128, 0.3);
        }

        .task-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #a78bfa;
            flex-shrink: 0;
        }

        .task-content {
            flex: 1;
            min-width: 0;
        }

        .task-name {
            font-size: 0.95rem;
            color: #e9d5ff;
            font-weight: 300;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .task-item.completed .task-name {
            text-decoration: line-through;
            color: #94a3b8;
        }

        .delete-btn {
            background: rgba(239, 68, 68, 0.2);
            color: #fca5a5;
            border: 1px solid rgba(239, 68, 68, 0.3);
            padding: 6px 14px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 300;
            transition: all 0.2s;
            flex-shrink: 0;
            backdrop-filter: blur(10px);
        }

        .delete-btn:hover {
            background: rgba(239, 68, 68, 0.3);
            border-color: rgba(239, 68, 68, 0.5);
        }

        .empty-state {
            text-align: center;
            padding: 2.5rem 1.5rem;
            color: #64748b;
        }

        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 0.75rem;
            opacity: 0.6;
        }

        .empty-state-text {
            font-weight: 300;
            font-size: 0.95rem;
        }

        /* Work Session Timer Styles */
        .work-session-section {
            background: rgba(139, 92, 246, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(167, 139, 250, 0.2);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2.5rem;
            box-shadow: 0 8px 32px 0 rgba(139, 92, 246, 0.1);
        }

        .session-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(167, 139, 250, 0.2);
        }

        .session-icon {
            width: 48px;
            height: 48px;
            background: rgba(139, 92, 246, 0.15);
            border: 1px solid rgba(167, 139, 250, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .session-title h2 {
            font-size: 1.5rem;
            font-weight: 300;
            color: #e9d5ff;
            margin-bottom: 0.25rem;
        }

        .session-title p {
            font-size: 0.85rem;
            color: #94a3b8;
            font-weight: 300;
        }

        .session-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .session-select-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .session-select-group label {
            font-size: 0.875rem;
            color: #a78bfa;
            font-weight: 300;
        }

        .session-select,
        .session-input {
            padding: 12px 16px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            font-size: 0.95rem;
            color: #f1f5f9;
            transition: all 0.3s;
            font-weight: 300;
            backdrop-filter: blur(10px);
        }

        .session-select:disabled,
        .session-input:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .session-select:focus,
        .session-input:focus {
            outline: none;
            border-color: rgba(167, 139, 250, 0.6);
            background: rgba(0, 0, 0, 0.5);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.2);
        }

        .session-select option {
            background: #000000;
            color: #f1f5f9;
        }

        .timer-display {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .timer-circle {
            position: relative;
            width: 200px;
            height: 200px;
        }

        .timer-svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .timer-bg {
            fill: none;
            stroke: rgba(0, 0, 0, 0.4);
            stroke-width: 8;
        }

        .timer-progress {
            fill: none;
            stroke: #8b5cf6;
            stroke-width: 8;
            stroke-linecap: round;
            stroke-dasharray: 565.48;
            stroke-dashoffset: 0;
            transition: stroke-dashoffset 0.5s linear;
            filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.7));
        }

        .timer-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2.5rem;
            font-weight: 200;
            color: #e9d5ff;
            text-align: center;
        }

        .session-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .session-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 12px 24px;
            border: 1px solid;
            border-radius: 12px;
            font-size: 0.95rem;
            font-weight: 300;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }

        .start-btn {
            background: rgba(34, 197, 94, 0.2);
            border-color: rgba(34, 197, 94, 0.4);
            color: #4ade80;
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
        }

        .start-btn:hover:not(:disabled) {
            background: rgba(34, 197, 94, 0.3);
            border-color: rgba(34, 197, 94, 0.6);
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(34, 197, 94, 0.4);
        }

        .pause-btn {
            background: rgba(251, 191, 36, 0.2);
            border-color: rgba(251, 191, 36, 0.4);
            color: #fbbf24;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.2);
        }

        .pause-btn:hover:not(:disabled) {
            background: rgba(251, 191, 36, 0.3);
            border-color: rgba(251, 191, 36, 0.6);
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(251, 191, 36, 0.4);
        }

        .reset-btn {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
            color: #f87171;
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
        }

        .reset-btn:hover:not(:disabled) {
            background: rgba(239, 68, 68, 0.3);
            border-color: rgba(239, 68, 68, 0.6);
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.4);
        }

        .session-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none !important;
        }

        .session-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .stat-item .stat-label {
            font-size: 0.875rem;
            color: #94a3b8;
            font-weight: 300;
        }

        .stat-item .stat-value {
            font-size: 1.5rem;
            font-weight: 300;
            color: #c4b5fd;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.4);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 92, 246, 0.6);
        }

        @media (max-width: 1100px) {
            .sections-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 600px) {
            body {
                padding: 15px;
            }

            h1 {
                font-size: 2rem;
            }

            .intention-text {
                font-size: 1rem;
            }

            .stat-value {
                font-size: 2.5rem;
            }

            .sections-container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .section-card {
                padding: 1.5rem;
            }

            .add-task-section {
                flex-direction: column;
            }

            .days-input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-section">
            <div class="logo-container">
                <div class="logo-wrapper">
                    <div class="logo-glow"></div>
                    <div class="logo">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#c4b5fd" stroke-width="1.5">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                    </div>
                </div>
            </div>
            <h1>Ù…Ø®Ø·Ø· Ø§Ù„Ø²ÙˆØ§Ø¬</h1>
        </div>

        <!-- Intention Box -->
        <div class="intention-box">
            <div class="intention-icon">âœ¨</div>
            <p class="intention-text">
                Ø¬Ø¯Ø¯ Ù†ÙŠØªÙƒ ÙÙŠ Ø£Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø­Ù„Ø© Ù†Ø­Ùˆ <span class="intention-highlight">Ø§Ù„Ø¹ÙØ§Ù Ø¹Ù† Ø§Ù„Ø­Ø±Ø§Ù… ÙˆØ³ÙƒÙ† Ø¬Ù…ÙŠÙ„ ÙŠØ±Ø¶ÙŠ Ø§Ù„Ù„Ù‡</span><br>
                ÙÙŠ Ø£ÙƒØ«Ø± Ù†Ø³Ø®Ø© <span class="intention-highlight">Ø±Ø¬ÙˆÙ„ÙŠØ© ÙˆØµÙ„Ø§Ø¨Ø© ÙˆØµÙ„Ø§Ø­Ø§Ù‹ ÙˆØªÙˆØ§Ø¶Ø¹Ø§Ù‹</span> Ù…Ù†Ùƒ
            </p>
        </div>

        <!-- Stats Container -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-label">Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© - Ø§Ù„Ù…Ø§Ø¯ÙŠØ©</div>
                <div class="stat-value" id="materialDaysRemaining">0</div>
                <div class="stat-subtitle">ÙŠÙˆÙ… Ù…ØªØ¨Ù‚ÙŠ</div>
                <div class="expected-date">ğŸ“… <span id="materialExpectedDate">--</span></div>
            </div>

            <div class="stat-card">
                <div class="stat-label">Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© - Ø§Ù„Ø´Ø®ØµÙŠØ©</div>
                <div class="stat-value" id="characterDaysRemaining">0</div>
                <div class="stat-subtitle">ÙŠÙˆÙ… Ù…ØªØ¨Ù‚ÙŠ</div>
                <div class="expected-date">ğŸ“… <span id="characterExpectedDate">--</span></div>
            </div>
        </div>

        <!-- Overall Progress -->
        <div class="progress-section">
            <div class="progress-header">
                <span>Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„ÙƒÙ„ÙŠ</span>
                <span id="progressText">0%</span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar">0%</div>
            </div>
        </div>

        <!-- Work Session Timer Section -->
        <div class="work-session-section">
            <div class="session-header">
                <div class="session-icon">â±ï¸</div>
                <div class="session-title">
                    <h2>Ø¬Ù„Ø³Ø© Ø§Ù„Ø¹Ù…Ù„</h2>
                    <p>Ø±ÙƒØ² Ø¹Ù„Ù‰ Ù…Ù‡Ù…Ø© ÙˆØ§Ø­Ø¯Ø© ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ø¹Ø¯</p>
                </div>
            </div>

            <div class="session-controls">
                <div class="session-select-group">
                    <label for="sessionType">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù‡Ù…Ø©:</label>
                    <select id="sessionType" class="session-select" onchange="updateTaskOptions()">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹...</option>
                        <option value="material">Ù…Ø§Ø¯ÙŠØ© ğŸ’°</option>
                        <option value="character">Ø´Ø®ØµÙŠØ© ğŸŒ±</option>
                    </select>
                </div>

                <div class="session-select-group">
                    <label for="sessionTask">Ø§Ù„Ù…Ù‡Ù…Ø©:</label>
                    <select id="sessionTask" class="session-select" disabled>
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‡Ù…Ø©...</option>
                    </select>
                </div>

                <div class="session-select-group">
                    <label for="sessionDuration">Ø§Ù„Ù…Ø¯Ø© (Ø¯Ù‚Ø§Ø¦Ù‚):</label>
                    <input type="number" 
                           id="sessionDuration" 
                           class="session-input" 
                           placeholder="25"
                           min="1"
                           max="240"
                           value="25">
                </div>
            </div>

            <div class="timer-display">
                <div class="timer-circle">
                    <svg class="timer-svg" viewBox="0 0 200 200">
                        <circle class="timer-bg" cx="100" cy="100" r="90"></circle>
                        <circle class="timer-progress" cx="100" cy="100" r="90" id="timerCircle"></circle>
                    </svg>
                    <div class="timer-text" id="timerText">00:00</div>
                </div>
            </div>

            <div class="session-buttons">
                <button class="session-btn start-btn" id="startBtn" onclick="startTimer()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="5 3 19 12 5 21 5 3"></polygon>
                    </svg>
                    Ø§Ø¨Ø¯Ø£
                </button>
                <button class="session-btn pause-btn" id="pauseBtn" onclick="pauseTimer()" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="6" y="4" width="4" height="16"></rect>
                        <rect x="14" y="4" width="4" height="16"></rect>
                    </svg>
                    Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª
                </button>
                <button class="session-btn reset-btn" id="resetBtn" onclick="resetTimer()" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="1 4 1 10 7 10"></polyline>
                        <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                    </svg>
                    Ø¥Ø¹Ø§Ø¯Ø©
                </button>
            </div>

            <div class="session-stats" id="sessionStats">
                <div class="stat-item">
                    <span class="stat-label">Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„ÙŠÙˆÙ…:</span>
                    <span class="stat-value" id="todaySessions">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙˆÙ‚Øª:</span>
                    <span class="stat-value" id="totalTime">0 Ø¯Ù‚ÙŠÙ‚Ø©</span>
                </div>
            </div>
        </div>

        <!-- Sections Container -->
        <div class="sections-container">
            <!-- Material Goals Section -->
            <div class="section-card">
                <div class="section-header">
                    <div class="section-icon">ğŸ’°</div>
                    <div class="section-title">
                        <h2>Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø§Ø¯ÙŠØ©</h2>
                        <p>Ø§Ù„Ø§Ø³ØªØ¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ©</p>
                    </div>
                </div>

                <!-- Material Progress Bar -->
                <div class="progress-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(0, 0, 0, 0.3);">
                    <div class="progress-header">
                        <span>Ø§Ù„ØªÙ‚Ø¯Ù…</span>
                        <span id="materialProgressText">0%</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="materialProgressBar">0%</div>
                    </div>
                </div>

                <div class="add-task-section">
                    <input type="text" 
                           class="task-input" 
                           id="materialTaskInput" 
                           placeholder="Ø£Ø¶Ù Ù‡Ø¯Ù Ù…Ø§Ø¯ÙŠ..."
                           maxlength="100">
                    <input type="number" 
                           class="days-input" 
                           id="materialDaysInput" 
                           placeholder="Ø£ÙŠØ§Ù…"
                           min="1"
                           max="365"
                           value="1">
                    <button class="add-btn" onclick="addTask('material')">+</button>
                </div>

                <ul class="tasks-list" id="materialTasksList">
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ’¼</div>
                        <p class="empty-state-text">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø£Ù‡Ø¯Ø§ÙÙƒ Ø§Ù„Ù…Ø§Ø¯ÙŠØ©</p>
                    </div>
                </ul>
            </div>

            <!-- Character Development Section -->
            <div class="section-card">
                <div class="section-header">
                    <div class="section-icon">ğŸŒ±</div>
                    <div class="section-title">
                        <h2>Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø´Ø®ØµÙŠØ©</h2>
                        <p>Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø°Ø§ØªÙŠ ÙˆØ§Ù„Ø±ÙˆØ­ÙŠ</p>
                    </div>
                </div>

                <!-- Character Progress Bar -->
                <div class="progress-section" style="margin-bottom: 1.5rem; padding: 1rem; background: rgba(0, 0, 0, 0.3);">
                    <div class="progress-header">
                        <span>Ø§Ù„ØªÙ‚Ø¯Ù…</span>
                        <span id="characterProgressText">0%</span>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="characterProgressBar">0%</div>
                    </div>
                </div>

                <div class="add-task-section">
                    <input type="text" 
                           class="task-input" 
                           id="characterTaskInput" 
                           placeholder="Ø£Ø¶Ù Ù‡Ø¯Ù Ø´Ø®ØµÙŠ..."
                           maxlength="100">
                    <input type="number" 
                           class="days-input" 
                           id="characterDaysInput" 
                           placeholder="Ø£ÙŠØ§Ù…"
                           min="1"
                           max="365"
                           value="1">
                    <button class="add-btn" onclick="addTask('character')">+</button>
                </div>

                <ul class="tasks-list" id="characterTasksList">
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“š</div>
                        <p class="empty-state-text">Ø§Ø¨Ø¯Ø£ Ø¨Ø¨Ù†Ø§Ø¡ Ø´Ø®ØµÙŠØªÙƒ</p>
                    </div>
                </ul>
            </div>
        </div>
    </div>

    <script>
        let materialTasks = [];
        let characterTasks = [];
        let timerInterval = null;
        let remainingSeconds = 0;
        let totalSeconds = 0;
        let isRunning = false;
        let sessionData = {
            today: new Date().toDateString(),
            sessions: 0,
            totalMinutes: 0
        };

        // Load data from localStorage
        function loadData() {
            const savedMaterialTasks = localStorage.getItem('materialTasks');
            const savedCharacterTasks = localStorage.getItem('characterTasks');
            const savedSessionData = localStorage.getItem('sessionData');
            
            if (savedMaterialTasks) {
                materialTasks = JSON.parse(savedMaterialTasks);
            }
            
            if (savedCharacterTasks) {
                characterTasks = JSON.parse(savedCharacterTasks);
            }

            if (savedSessionData) {
                sessionData = JSON.parse(savedSessionData);
                // Reset if it's a new day
                if (sessionData.today !== new Date().toDateString()) {
                    sessionData = {
                        today: new Date().toDateString(),
                        sessions: 0,
                        totalMinutes: 0
                    };
                }
            }
            
            renderTasks('material');
            renderTasks('character');
            updateAllProgress();
            updateSessionStats();
        }

        // Save session data
        function saveSessionData() {
            localStorage.setItem('sessionData', JSON.stringify(sessionData));
        }

        // Update session statistics
        function updateSessionStats() {
            document.getElementById('todaySessions').textContent = sessionData.sessions;
            document.getElementById('totalTime').textContent = sessionData.totalMinutes + ' Ø¯Ù‚ÙŠÙ‚Ø©';
        }

        // Update task options based on selected type
        function updateTaskOptions() {
            const typeSelect = document.getElementById('sessionType');
            const taskSelect = document.getElementById('sessionTask');
            const selectedType = typeSelect.value;

            taskSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‡Ù…Ø©...</option>';

            if (selectedType) {
                const tasks = selectedType === 'material' ? materialTasks : characterTasks;
                const incompleteTasks = tasks.filter(t => !t.completed);

                incompleteTasks.forEach(task => {
                    const option = document.createElement('option');
                    option.value = task.id;
                    option.textContent = task.name;
                    taskSelect.appendChild(option);
                });

                taskSelect.disabled = false;
            } else {
                taskSelect.disabled = true;
            }
        }

        // Format time display
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }

        // Update timer display
        function updateTimerDisplay() {
            document.getElementById('timerText').textContent = formatTime(remainingSeconds);
            
            // Update circle progress
            const progress = totalSeconds > 0 ? (remainingSeconds / totalSeconds) : 0;
            const circumference = 2 * Math.PI * 90;
            const offset = circumference * (1 - progress);
            document.getElementById('timerCircle').style.strokeDashoffset = offset;
        }

        // Start timer
        function startTimer() {
            const taskSelect = document.getElementById('sessionTask');
            const durationInput = document.getElementById('sessionDuration');

            if (!taskSelect.value) {
                alert('Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‡Ù…Ø© Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            const duration = parseInt(durationInput.value);
            if (!duration || duration < 1) {
                alert('Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ù…Ø¯Ø© ØµØ­ÙŠØ­Ø©');
                return;
            }

            if (!isRunning) {
                if (remainingSeconds === 0) {
                    totalSeconds = duration * 60;
                    remainingSeconds = totalSeconds;
                }

                isRunning = true;
                document.getElementById('startBtn').disabled = true;
                document.getElementById('pauseBtn').disabled = false;
                document.getElementById('resetBtn').disabled = false;

                timerInterval = setInterval(() => {
                    if (remainingSeconds > 0) {
                        remainingSeconds--;
                        updateTimerDisplay();
                    } else {
                        // Timer finished
                        finishSession();
                    }
                }, 1000);
            }
        }

        // Pause timer
        function pauseTimer() {
            if (isRunning) {
                isRunning = false;
                clearInterval(timerInterval);
                document.getElementById('startBtn').disabled = false;
                document.getElementById('pauseBtn').disabled = true;
            }
        }

        // Reset timer
        function resetTimer() {
            isRunning = false;
            clearInterval(timerInterval);
            remainingSeconds = 0;
            totalSeconds = 0;
            updateTimerDisplay();
            
            document.getElementById('startBtn').disabled = false;
            document.getElementById('pauseBtn').disabled = true;
            document.getElementById('resetBtn').disabled = true;
        }

        // Finish session
        function finishSession() {
            clearInterval(timerInterval);
            isRunning = false;
            
            // Update session stats
            sessionData.sessions++;
            sessionData.totalMinutes += Math.floor(totalSeconds / 60);
            saveSessionData();
            updateSessionStats();

            // Play notification sound (browser beep)
            const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBDGH0fPTgjMGHm7A7+OZUQ8PVqzn77BdGAg+ltryxHMpBSh+zPLaizsIGGS57OihUhELTKXh8bllHAU2jdXzzn0vBSR3x/DdkEAKFF207uullhYJPJPZ88p5LAUmfcnw24I4CBlmvO3omlCQEA==');
            audio.play().catch(() => {});

            alert('ğŸ‰ Ø£Ø­Ø³Ù†Øª! Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ø¬Ù„Ø³Ø© Ø¨Ù†Ø¬Ø§Ø­');
            resetTimer();
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('materialTasks', JSON.stringify(materialTasks));
            localStorage.setItem('characterTasks', JSON.stringify(characterTasks));
        }

        // Calculate remaining days from incomplete tasks for a specific type
        function calculateRemainingDays(type) {
            const tasks = type === 'material' ? materialTasks : characterTasks;
            return tasks
                .filter(task => !task.completed)
                .reduce((total, task) => total + task.days, 0);
        }

        // Update countdown and expected date for a specific type
        function updateCountdown(type) {
            const daysElement = document.getElementById(`${type}DaysRemaining`);
            const expectedDateElement = document.getElementById(`${type}ExpectedDate`);
            
            const remainingDays = calculateRemainingDays(type);
            daysElement.textContent = remainingDays;
            
            // Calculate expected date
            const today = new Date();
            const expectedDate = new Date(today);
            expectedDate.setDate(today.getDate() + remainingDays);
            
            // Format date in Arabic
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = expectedDate.toLocaleDateString('ar-EG', options);
            expectedDateElement.textContent = formattedDate;
        }

        // Add new task
        function addTask(type) {
            const taskInput = document.getElementById(`${type}TaskInput`);
            const daysInput = document.getElementById(`${type}DaysInput`);
            
            const taskName = taskInput.value.trim();
            const days = parseInt(daysInput.value) || 1;
            
            if (!taskName) {
                alert('Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù‡Ù…Ø©');
                return;
            }
            
            if (days < 1) {
                alert('Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ 1');
                return;
            }
            
            const tasks = type === 'material' ? materialTasks : characterTasks;
            
            // Create multiple daily tasks
            const baseTimestamp = Date.now();
            for (let i = 1; i <= days; i++) {
                tasks.push({
                    id: baseTimestamp + i,
                    name: `${taskName} - ÙŠÙˆÙ… ${i}`,
                    days: 1,
                    completed: false
                });
            }
            
            taskInput.value = '';
            daysInput.value = '1';
            
            saveData();
            renderTasks(type);
            updateAllProgress();
        }

        // Toggle task completion
        function toggleTask(type, id) {
            const tasks = type === 'material' ? materialTasks : characterTasks;
            const task = tasks.find(t => t.id === id);
            
            if (task) {
                task.completed = !task.completed;
                saveData();
                renderTasks(type);
                updateAllProgress();
            }
        }

        // Delete task
        function deleteTask(type, id) {
            if (type === 'material') {
                materialTasks = materialTasks.filter(t => t.id !== id);
            } else {
                characterTasks = characterTasks.filter(t => t.id !== id);
            }
            
            saveData();
            renderTasks(type);
            updateAllProgress();
        }

        // Render tasks
        function renderTasks(type) {
            const tasks = type === 'material' ? materialTasks : characterTasks;
            const tasksList = document.getElementById(`${type}TasksList`);
            const emptyIcon = type === 'material' ? 'ğŸ’¼' : 'ğŸ“š';
            const emptyText = type === 'material' ? 'Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø£Ù‡Ø¯Ø§ÙÙƒ Ø§Ù„Ù…Ø§Ø¯ÙŠØ©' : 'Ø§Ø¨Ø¯Ø£ Ø¨Ø¨Ù†Ø§Ø¡ Ø´Ø®ØµÙŠØªÙƒ';
            
            if (tasks.length === 0) {
                tasksList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">${emptyIcon}</div>
                        <p class="empty-state-text">${emptyText}</p>
                    </div>
                `;
            } else {
                tasksList.innerHTML = tasks.map(task => `
                    <li class="task-item ${task.completed ? 'completed' : ''}">
                        <input type="checkbox" 
                               class="task-checkbox" 
                               ${task.completed ? 'checked' : ''}
                               onchange="toggleTask('${type}', ${task.id})">
                        <div class="task-content">
                            <div class="task-name">${task.name}</div>
                        </div>
                        <button class="delete-btn" onclick="deleteTask('${type}', ${task.id})">Ø­Ø°Ù</button>
                    </li>
                `).join('');
            }

            // Update timer task options if current type is selected
            const sessionType = document.getElementById('sessionType').value;
            if (sessionType === type) {
                updateTaskOptions();
            }
        }

        // Update all progress indicators
        function updateAllProgress() {
            // Update both countdowns
            updateCountdown('material');
            updateCountdown('character');
            
            // Material progress
            const materialTotal = materialTasks.length;
            const materialCompleted = materialTasks.filter(t => t.completed).length;
            const materialPercent = materialTotal > 0 ? Math.round((materialCompleted / materialTotal) * 100) : 0;
            
            document.getElementById('materialProgressBar').style.width = materialPercent + '%';
            document.getElementById('materialProgressBar').textContent = materialPercent + '%';
            document.getElementById('materialProgressText').textContent = `${materialCompleted}/${materialTotal} (${materialPercent}%)`;
            
            // Character progress
            const characterTotal = characterTasks.length;
            const characterCompleted = characterTasks.filter(t => t.completed).length;
            const characterPercent = characterTotal > 0 ? Math.round((characterCompleted / characterTotal) * 100) : 0;
            
            document.getElementById('characterProgressBar').style.width = characterPercent + '%';
            document.getElementById('characterProgressBar').textContent = characterPercent + '%';
            document.getElementById('characterProgressText').textContent = `${characterCompleted}/${characterTotal} (${characterPercent}%)`;
            
            // Overall progress
            const totalTasks = materialTotal + characterTotal;
            const completedTasks = materialCompleted + characterCompleted;
            const overallPercent = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            document.getElementById('progressBar').style.width = overallPercent + '%';
            document.getElementById('progressBar').textContent = overallPercent + '%';
            document.getElementById('progressText').textContent = `${completedTasks}/${totalTasks} (${overallPercent}%)`;
        }

        // Allow Enter key to add task
        ['material', 'character'].forEach(type => {
            document.getElementById(`${type}TaskInput`).addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addTask(type);
                }
            });

            document.getElementById(`${type}DaysInput`).addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addTask(type);
                }
            });
        });

        // Initialize
        loadData();
    </script>
</body>
</html>